<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ICTx Device Tracker</title>
    
    <!-- PWA核心配置 -->
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#0A0A12">
    
    <!-- iOS Safari PWA支持 -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Device Tracker">
    
    <!-- Windows PWA支持 -->
    <meta name="msapplication-TileColor" content="#0A0A12">
    
    <!-- 外部资源 -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://code.iconify.design/iconify-icon/1.0.7/iconify-icon.min.js"></script>
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Oxanium:wght@400;500;600;700&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            background: #0A0A12;
            font-family: 'Oxanium', sans-serif;
            color: white;
            overflow-x: hidden;
            min-height: 100vh;
        }
        
        .app-container {
            width: 100%;
            max-width: 375px;
            height: 100vh;
            max-height: 812px;
            margin: 0 auto;
            background: #0A0A12;
            border-radius: 24px;
            overflow: hidden;
            border: 1px solid rgba(0, 255, 255, 0.3);
            box-shadow: 0 0 25px rgba(0, 255, 255, 0.1);
            position: relative;
        }
        
        .page {
            display: none;
            width: 100%;
            height: 100%;
            flex-direction: column;
        }
        
        .page.active {
            display: flex;
        }
        
        /* Header */
        .header-section {
            height: 10%;
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 0 16px;
        }
        
        .header-title {
            font-size: 20px;
            font-weight: 600;
            color: #00FFFF;
            text-shadow: 0 0 10px #00FFFF;
        }
        
        .night-mode-icon {
            position: absolute;
            right: 16px;
            top: 50%;
            transform: translateY(-50%);
            filter: drop-shadow(0 0 5px #9D4EDD);
            color: #9D4EDD;
        }
        
        /* Status cards */
        .status-card {
            width: 100px;
            height: 60px;
            background: #1A1A2E;
            border-radius: 8px;
            border: 1px solid #00FFFF;
            box-shadow: 0 0 10px rgba(0, 255, 255, 0.3);
            text-align: center;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }
        
        .online-card .card-value {
            color: #00FF85;
            text-shadow: 0 0 8px #00FF85;
        }
        
        .warning-card .card-value {
            color: #FFD700;
            text-shadow: 0 0 8px #FFD700;
        }
        
        .offline-card .card-value {
            color: #00FFFF;
            text-shadow: 0 0 8px #00FFFF;
        }
        
        /* Device card styles */
        .device-card {
            background: #1A1A2E;
            border-radius: 12px;
            border: 1px solid #00FFFF;
            box-shadow: 0 0 15px rgba(0, 255, 255, 0.2);
            padding: 16px;
            margin-bottom: 16px;
        }
        
        .device-status {
            padding: 2px 8px;
            border-radius: 20px;
            font-size: 12px;
        }
        
        .online-label {
            background: rgba(0, 255, 133, 0.1);
            color: white;
        }
        
        .warning-label {
            background: rgba(255, 215, 0, 0.1);
            color: white;
        }
        
        .detail-icon {
            filter: drop-shadow(0 0 3px #FF2E93);
        }
        
        .info-icon {
            filter: drop-shadow(0 0 3px #FF2E93);
        }
        
        /* Buttons */
        .btn {
            height: 40px;
            border-radius: 8px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-weight: 500;
            font-size: 14px;
            cursor: pointer;
        }
        
        .alert-btn {
            border: 2px solid #00FFFF;
            box-shadow: 0 0 10px rgba(0, 255, 255, 0.3);
        }
        
        .detail-btn {
            border: 2px solid #FF2E93;
            box-shadow: 0 0 10px rgba(255, 46, 147, 0.3);
        }
        
        /* Navigation bar */
        .nav-bar {
            height: 80px;
            background: #1A1A2E;
            border-top: 1px solid #00FFFF;
            box-shadow: 0 -5px 15px rgba(0, 255, 255, 0.1);
            position: absolute;
            bottom: 0;
            width: 100%;
            display: flex;
            justify-content: space-around;
            align-items: center;
        }
        
        .nav-item {
            text-align: center;
            width: 90px;
            cursor: pointer;
        }
        
        .nav-item.active .nav-text {
            color: #FF2E93;
        }
        
        .nav-item.active .nav-icon {
            color: #FF2E93;
            filter: drop-shadow(0 0 5px #FF2E93);
        }
        
        /* Content area */
        .content-area {
            flex: 1;
            overflow-y: auto;
            padding: 16px;
            padding-bottom: 90px; /* Space for nav */
        }
        
        /* Map container */
        .map-container {
            height: 75%;
            background: linear-gradient(150deg, #0f0a28 0%, #0a0a12 100%);
            position: relative;
            border-top: 1px solid rgba(255, 46, 147, 0.3);
            border-bottom: 1px solid rgba(255, 46, 147, 0.3);
        }
        
        /* Legend */
        .legend-container {
            height: 10%;
            display: flex;
            justify-content: flex-start;
            align-items: center;
            padding: 0 16px;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            margin-right: 20px;
        }
        
        .legend-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 8px;
        }
        
        /* Notification cards */
        .notification-card {
            background: #1A1A2E;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 12px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.3);
            cursor: pointer;
        }
        
        /* Profile section */
        .profile-header {
            height: 15%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding-top: 30px;
        }
        
        .profile-image {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            border: 2px solid #00FFFF;
            box-shadow: 0 0 15px rgba(0, 255, 255, 0.4);
            object-fit: cover;
        }
        
        .function-card {
            background: #1A1A2E;
            border-radius: 8px;
            border: 1px solid #00FFFF;
            padding: 15px;
            margin-bottom: 12px;
            cursor: pointer;
        }

        /* Subpages */
        .subpage {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(10, 10, 18, 0.95);
            z-index: 1000;
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            padding-top: 50px;
            overflow-y: auto;
        }

        .subpage.active {
            display: flex;
        }

        .subpage-content {
            width: 90%;
            max-width: 375px;
            background: #1A1A2E;
            border-radius: 16px;
            border: 1px solid #00FFFF;
            box-shadow: 0 0 25px rgba(0, 255, 255, 0.2);
            padding: 24px;
            position: relative;
            margin-bottom: 30px;
        }

        .close-button {
            position: absolute;
            top: 15px;
            right: 15px;
            width: 30px;
            height: 30px;
            display: flex;
            justify-content: center;
            align-items: center;
            border-radius: 50%;
            border: 1px solid #FF2E93;
            color: #FF2E93;
            cursor: pointer;
        }

        .subpage-title {
            font-size: 20px;
            font-weight: 600;
            margin-bottom: 20px;
            color: #00FFFF;
            text-align: center;
        }

        .subpage-section {
            margin-bottom: 15px;
            border-bottom: 1px solid rgba(0, 255, 255, 0.2);
            padding-bottom: 15px;
        }

        .subpage-label {
            font-size: 14px;
            color: #FF2E93;
            margin-bottom: 8px;
        }

        .subpage-value {
            font-size: 16px;
            color: white;
        }

        .data-list {
            margin-top: 20px;
        }

        .data-item {
            padding: 10px 0;
            border-bottom: 1px solid rgba(0, 255, 255, 0.1);
            display: flex;
            justify-content: space-between;
        }

        .button-container {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 20px;
        }
        
        /* Install prompt */
        .install-prompt {
            position: fixed;
            bottom: 100px;
            left: 50%;
            transform: translateX(-50%);
            background: #1A1A2E;
            border: 1px solid #00FFFF;
            border-radius: 12px;
            padding: 16px;
            box-shadow: 0 0 20px rgba(0, 255, 255, 0.3);
            z-index: 999;
            display: none;
            flex-direction: column;
            align-items: center;
            width: 90%;
            max-width: 350px;
        }
        
        .install-prompt.active {
            display: flex;
        }
        
        .install-text {
            margin-bottom: 16px;
            text-align: center;
        }
        
        .install-buttons {
            display: flex;
            gap: 10px;
            width: 100%;
        }
        
        .install-btn {
            flex: 1;
            padding: 10px;
            border-radius: 8px;
            text-align: center;
            cursor: pointer;
        }
        
        .install-primary {
            background: #00FFFF;
            color: #0A0A12;
            font-weight: bold;
        }
        
        .install-secondary {
            background: transparent;
            border: 1px solid #00FFFF;
        }
    </style>
</head>
<body>
    <div class="app-container">
        <!-- DEVICES PAGE -->
        <div class="page active" id="devices-page">
            <!-- Header -->
            <div class="header-section">
                <div class="header-title">DEVICE TRACKER</div>
                <iconify-icon icon="mdi:moon-waning-crescent" width="24" height="24" class="night-mode-icon"></iconify-icon>
            </div>
            
            <!-- Content Area -->
            <div class="content-area">
                <!-- Status Section -->
                <div class="px-4 py-3">
                    <div class="text-[#FF2E93] text-[16px] font-medium mb-2" style="text-shadow: 0 0 5px #FF2E93;">SYSTEM STATUS</div>
                    <div class="text-[28px] font-bold mb-3">
                        <span class="text-cyan-400" style="text-shadow: 0 0 10px #00FFFF;">8</span>
                        <span class="text-[#FF2E93]" style="display:inline;">_</span>
                        <span class="text-cyan-400" style="text-shadow: 0 0 10px #00FFFF;">DEVICES</span>
                    </div>
                    <div class="flex justify-center gap-3 mt-2">
                        <div class="status-card online-card">
                            <div class="card-value font-bold text-[24px]">5</div>
                            <div class="text-white text-[14px]">ONLINE</div>
                        </div>
                        <div class="status-card warning-card">
                            <div class="card-value font-bold text-[24px]">2</div>
                            <div class="text-white text-[14px]">WARNING</div>
                        </div>
                        <div class="status-card offline-card">
                            <div class="card-value font-bold text-[24px]">1</div>
                            <div class="text-white text-[14px]">OFFLINE</div>
                        </div>
                    </div>
                </div>
                
                <!-- Device List -->
                <div class="mt-4">
                    <!-- Workspace Robot Card -->
                    <div class="device-card">
                        <div class="flex justify-between mb-2">
                            <h2 class="text-[18px] font-semibold">Workshop Robot #23</h2>
                            <div class="flex items-center">
                                <div class="w-2 h-2 bg-[#00FF85] rounded-full mr-1" style="box-shadow: 0 0 8px #00FF85;"></div>
                                <span class="device-status online-label">ONLINE</span>
                            </div>
                        </div>
                        <div class="flex items-center mb-3">
                            <iconify-icon icon="mdi:clock-outline" width="16" height="16" class="info-icon mr-2"></iconify-icon>
                            <span class="text-sm">2023-10-15 14:30</span>
                        </div>
                        <div class="flex items-center mb-3">
                            <iconify-icon icon="mdi:chip" width="16" height="16" class="info-icon mr-2"></iconify-icon>
                            <div class="w-24 h-4 rounded border-2 border-cyan-400" style="box-shadow: 0 0 8px #00FFFF;"></div>
                        </div>
                        <div class="flex items-center mb-4">
                            <iconify-icon icon="mdi:map-marker-outline" width="16" height="16" class="info-icon mr-2"></iconify-icon>
                            <span class="text-sm">Area A, Line 3</span>
                        </div>
                        <div class="flex justify-between">
                            <div class="btn alert-btn" onclick="openSubpage('trigger-alert-workshop-robot')">
                                <iconify-icon icon="mdi:alert-outline" width="16" height="16" class="detail-icon mr-1"></iconify-icon>
                                <span>TRIGGER ALERT</span>
                            </div>
                            <div class="btn detail-btn" onclick="openSubpage('details-workshop-robot')">
                                <span>DETAILS</span>
                                <iconify-icon icon="mdi:chevron-right" width="16" height="16" class="ml-1"></iconify-icon>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Forklift Card -->
                    <div class="device-card mt-3">
                        <div class="flex justify-between mb-2">
                            <h2 class="text-[18px] font-semibold">Forklift #07</h2>
                            <div class="flex items-center">
                                <div class="w-2 h-2 bg-[#FFD700] rounded-full mr-1" style="box-shadow: 0 0 8px #FFD700;"></div>
                                <span class="device-status warning-label">OVERHEAT</span>
                            </div>
                        </div>
                        <div class="flex items-center mb-3">
                            <iconify-icon icon="mdi:clock-outline" width="16" height="16" class="info-icon mr-2"></iconify-icon>
                            <span class="text-sm">2023-10-15 14:15</span>
                        </div>
                        <div class="flex items-center mb-3">
                            <iconify-icon icon="mdi:chip" width="16" height="16" class="info-icon mr-2"></iconify-icon>
                            <div class="w-24 h-4 rounded border-2 border-amber-300" style="box-shadow: 0 0 8px #FFD700;"></div>
                        </div>
                        <div class="flex items-center mb-4">
                            <iconify-icon icon="mdi:map-marker-outline" width="16" height="16" class="info-icon mr-2"></iconify-icon>
                            <span class="text-sm">West Storage Area</span>
                        </div>
                        <div class="flex justify-between">
                            <div class="btn" style="background: #9D4EDD; box-shadow: 0 0 10px rgba(157, 78, 221, 0.5);">
                                <span>ALERTING</span>
                            </div>
                            <div class="btn detail-btn" onclick="openSubpage('details-forklift')">
                                <span>VIEW DETAILS</span>
                                <iconify-icon icon="mdi:chevron-right" width="16" height="16" class="ml-1"></iconify-icon>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Navigation Bar -->
            <div class="nav-bar">
                <div class="nav-item active" onclick="switchPage('devices-page')">
                    <iconify-icon icon="mdi:monitor-cellphone" width="24" height="24" class="nav-icon"></iconify-icon>
                    <div class="nav-text text-[12px] font-medium mt-1">DEVICES</div>
                </div>
                <div class="nav-item" onclick="switchPage('map-page')">
                    <iconify-icon icon="mdi:map-outline" width="24" height="24" class="nav-icon"></iconify-icon>
                    <div class="nav-text text-[12px] mt-1">MAP</div>
                </div>
                <div class="nav-item" onclick="switchPage('notifications-page')">
                    <iconify-icon icon="mdi:bell-outline" width="24" height="24" class="nav-icon"></iconify-icon>
                    <div class="nav-text text-[12px] mt-1">NOTIFICATIONS</div>
                </div>
                <div class="nav-item" onclick="switchPage('profile-page')">
                    <iconify-icon icon="mdi:account-outline" width="24" height="24" class="nav-icon"></iconify-icon>
                    <div class="nav-text text-[12px] mt-1">PROFILE</div>
                </div>
            </div>
        </div>
        
        <!-- MAP PAGE -->
        <div class="page" id="map-page">
            <!-- Header -->
            <div class="header-section">
                <div class="header-title">DEVICE MAP</div>
                <iconify-icon icon="mdi:moon-waning-crescent" width="24" height="24" class="night-mode-icon"></iconify-icon>
            </div>
            
            <!-- Content Area -->
            <div class="content-area">
                <!-- Map Container -->
                <div class="map-container">
                    <!-- Simplified map visualization -->
                    <div class="absolute inset-0 flex-col" style="line-height:1">
                        <div class="flex h-12 items-center justify-end pr-4">
                            <div class="w-[60px] h-1 bg-cyan-400 rounded" style="box-shadow:0 0 8px #00FFFF"></div>
                        </div>
                        <div class="flex h-12 items-center pl-4 gap-2">
                            <div class="w-[50px] h-1 bg-cyan-400 rounded" style="box-shadow:0 0 8px #00FFFF"></div>
                            <div class="w-[170px] h-1 bg-cyan-400 rounded" style="box-shadow:0 0 8px #00FFFF"></div>
                        </div>
                        <div class="flex h-24 items-center justify-between px-4">
                            <div class="flex flex-col gap-1">
                                <div class="w-[70px] h-1 bg-cyan-400 rounded" style="box-shadow:0 0 8px #00FFFF"></div>
                                <div class="w-[70px] h-1 bg-cyan-400 rounded" style="box-shadow:0 0 8px #00FFFF"></div>
                            </div>
                            <div class="border border-[#FF2E93] w-32 h-32 opacity-20" style="box-shadow:0 0 12px rgba(255,46,147,0.1)"></div>
                            <div>
                                <div class="w-3 h-3 rounded-full bg-green-400" style="box-shadow:0 0 10px #00FF85"></div>
                            </div>
                        </div>
                        <div class="flex h-16 justify-start pl-4 gap-3">
                            <div class="w-[60px] h-1 bg-cyan-400 rounded" style="box-shadow:0 0 8px #00FFFF"></div>
                            <div class="w-[90px] h-1 bg-cyan-400 rounded" style="box-shadow:0 0 8px #00FFFF"></div>
                        </div>
                        <div class="flex h-32 items-start justify-between px-12 py-2">
                            <div>
                                <div class="w-3 h-3 rounded-full bg-[#00FFFF]" style="box-shadow:0 0 10px #00FFFF"></div>
                            </div>
                            <div class="border border-[#5A5A8C] w-48 h-32 opacity-20"></div>
                            <div>
                                <div class="w-3 h-3 rounded-full bg-yellow-400" style="box-shadow:0 0 10px #FFD700"></div>
                            </div>
                        </div>
                        
                        <!-- Control buttons -->
                        <div class="absolute bottom-4 right-4 flex flex-col gap-3">
                            <div class="w-10 h-10 rounded-full bg-cyan-400 flex items-center justify-center cursor-pointer" style="box-shadow:0 0 10px rgba(0,255,255,0.5)">
                                <span class="text-lg">+</span>
                            </div>
                            <div class="w-10 h-10 rounded-full bg-cyan-400 flex items-center justify-center cursor-pointer" style="box-shadow:0 0 10px rgba(0,255,255,0.5)">
                                <span class="text-lg">-</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Legend -->
                <div class="legend-container">
                    <div class="mr-4 text-sm font-medium">LEGEND</div>
                    <div class="legend-item">
                        <div class="legend-dot bg-green-400" style="box-shadow:0 0 8px #00FF85;"></div>
                        <span class="text-sm">Online</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-dot bg-yellow-400" style="box-shadow:0 0 8px #FFD700;"></div>
                        <span class="text-sm">Warning</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-dot bg-cyan-400" style="box-shadow:0 0 8px #00FFFF;"></div>
                        <span class="text-sm">Offline</span>
                    </div>
                </div>
            </div>
            
            <!-- Navigation Bar -->
            <div class="nav-bar">
                <div class="nav-item" onclick="switchPage('devices-page')">
                    <iconify-icon icon="mdi:monitor-cellphone" width="24" height="24" class="nav-icon"></iconify-icon>
                    <div class="nav-text text-[12px] mt-1">DEVICES</div>
                </div>
                <div class="nav-item active" onclick="switchPage('map-page')">
                    <iconify-icon icon="mdi:map-outline" width="24" height="24" class="nav-icon"></iconify-icon>
                    <div class="nav-text text-[12px] font-medium mt-1">MAP</div>
                </div>
                <div class="nav-item" onclick="switchPage('notifications-page')">
                    <iconify-icon icon="mdi:bell-outline" width="24" height="24" class="nav-icon"></iconify-icon>
                    <div class="nav-text text-[12px] mt-1">NOTIFICATIONS</div>
                </div>
                <div class="nav-item" onclick="switchPage('profile-page')">
                    <iconify-icon icon="mdi:account-outline" width="24" height="24" class="nav-icon"></iconify-icon>
                    <div class="nav-text text-[12px] mt-1">PROFILE</div>
                </div>
            </div>
        </div>
        
        <!-- NOTIFICATIONS PAGE -->
        <div class="page" id="notifications-page">
            <!-- Header -->
            <div class="header-section">
                <div class="header-title">NOTIFICATIONS</div>
                <iconify-icon icon="mdi:moon-waning-crescent" width="24" height="24" class="night-mode-icon"></iconify-icon>
            </div>
            
            <!-- Content Area -->
            <div class="content-area">
                <!-- Filter Bar -->
                <div class="bg-[#1A1A2E] flex items-center px-4 py-3 border-b border-[#252541]">
                    <div class="mr-3 px-3 py-1 rounded-full border border-cyan-400 text-sm" style="box-shadow:0 0 5px rgba(0,255,255,0.3)">All</div>
                    <div class="mr-3 px-3 py-1 rounded-full text-sm">Alerts</div>
                    <div class="px-3 py-1 rounded-full text-sm">System</div>
                </div>
                
                <!-- Notifications List -->
                <div class="mt-3">
                    <div class="notification-card" style="border-left: 3px solid #FF2E93;" onclick="openSubpage('notification-forklift-overheat')">
                        <div class="flex">
                            <iconify-icon icon="mdi:alert-octagon" width="24" height="24" class="text-[#FF2E93] mr-2"></iconify-icon>
                            <div>
                                <div class="font-medium">Forklift #07 Overheating</div>
                                <div class="text-gray-400 text-sm mt-1">Temperature exceeds safety threshold</div>
                            </div>
                        </div>
                        <div class="text-[#FF2E93] text-xs mt-2">14:25 • Today</div>
                    </div>
                    
                    <div class="notification-card" style="border-left: 3px solid #00FFFF;" onclick="openSubpage('notification-new-device')">
                        <div class="flex">
                            <iconify-icon icon="mdi:information-outline" width="24" height="24" class="text-[#00FFFF] mr-2"></iconify-icon>
                            <div>
                                <div class="font-medium">New Device Registered</div>
                                <div class="text-gray-400 text-sm mt-1">Inventory Robot #05 added to system</div>
                            </div>
                        </div>
                        <div class="text-[#FF2E93] text-xs mt-2">10:15 • Today</div>
                    </div>
                    
                    <div class="notification-card" style="border-left: 3px solid #FFD700;" onclick="openSubpage('notification-low-battery')">
                        <div class="flex">
                            <iconify-icon icon="mdi:alert-circle-outline" width="24" height="24" class="text-[#FFD700] mr-2"></iconify-icon>
                            <div>
                                <div class="font-medium">Low Battery Warning</div>
                                <div class="text-gray-400 text-sm mt-1">Workshop Robot #23 battery at 15%</div>
                            </div>
                        </div>
                        <div class="text-[#FF2E93] text-xs mt-2">09:42 • Today</div>
                    </div>
                </div>
            </div>
            
            <!-- Navigation Bar -->
            <div class="nav-bar">
                <div class="nav-item" onclick="switchPage('devices-page')">
                    <iconify-icon icon="mdi:monitor-cellphone" width="24" height="24" class="nav-icon"></iconify-icon>
                    <div class="nav-text text-[12px] mt-1">DEVICES</div>
                </div>
                <div class="nav-item" onclick="switchPage('map-page')">
                    <iconify-icon icon="mdi:map-outline" width="24" height="24" class="nav-icon"></iconify-icon>
                    <div class="nav-text text-[12px] mt-1">MAP</div>
                </div>
                <div class="nav-item active" onclick="switchPage('notifications-page')">
                    <iconify-icon icon="mdi:bell-outline" width="24" height="24" class="nav-icon"></iconify-icon>
                    <div class="nav-text text-[12px] font-medium mt-1">NOTIFICATIONS</div>
                </div>
                <div class="nav-item" onclick="switchPage('profile-page')">
                    <iconify-icon icon="mdi:account-outline" width="24" height="24" class="nav-icon"></iconify-icon>
                    <div class="nav-text text-[12px] mt-1">PROFILE</div>
                </div>
            </div>
        </div>
        
        <!-- PROFILE PAGE -->
        <div class="page" id="profile-page">
            <!-- Header -->
            <div class="profile-header">
                <div class="w-20 h-20 flex items-center justify-center rounded-full bg-[#1A1A2E] border-2 border-cyan-400" style="box-shadow: 0 0 15px rgba(0,255,255,0.4);">
                    <iconify-icon icon="mdi:account" width="40" height="40" class="text-cyan-400"></iconify-icon>
                </div>
                <div class="mt-3 text-lg font-medium">Alex Morgan</div>
                <div class="text-sm mt-1" style="color: #00FFFF;">Systems Administrator</div>
            </div>
            
            <!-- Content Area -->
            <div class="content-area">
                <!-- Functions List -->
                <div class="mt-2">
                    <div class="function-card" onclick="openSubpage('settings-page')">
                        <div class="flex justify-between items-center">
                            <div class="flex items-center">
                                <iconify-icon icon="mdi:cog-outline" width="20" height="20" class="mr-3" style="color: #00FFFF;"></iconify-icon>
                                <span>Settings</span>
                            </div>
                            <iconify-icon icon="mdi:chevron-right" width="20" height="20"></iconify-icon>
                        </div>
                    </div>
                    
                    <div class="function-card" onclick="openSubpage('security-page')">
                        <div class="flex justify-between items-center">
                            <div class="flex items-center">
                                <iconify-icon icon="mdi:shield-outline" width="20" height="20" class="mr-3" style="color: #00FFFF;"></iconify-icon>
                                <span>Security</span>
                            </div>
                            <iconify-icon icon="mdi:chevron-right" width="20" height="20"></iconify-icon>
                        </div>
                    </div>
                    
                    <div class="function-card" onclick="openSubpage('help-support-page')">
                        <div class="flex justify-between items-center">
                            <div class="flex items-center">
                                <iconify-icon icon="mdi:help-circle-outline" width="20" height="20" class="mr-3" style="color: #00FFFF;"></iconify-icon>
                                <span>Help & Support</span>
                            </div>
                            <iconify-icon icon="mdi:chevron-right" width="20" height="20"></iconify-icon>
                        </div>
                    </div>
                    
                    <div class="function-card" onclick="openSubpage('about-page')">
                        <div class="flex justify-between items-center">
                            <div class="flex items-center">
                                <iconify-icon icon="mdi:information-outline" width="20" height="20" class="mr-3" style="color: #00FFFF;"></iconify-icon>
                                <span>About TrackerApp</span>
                            </div>
                            <iconify-icon icon="mdi:chevron-right" width="20" height="20"></iconify-icon>
                        </div>
                    </div>
                </div>
                
                <!-- Logout -->
                <div class="flex items-center justify-center mt-6">
                    <div class="btn w-[160px] border-2 border-[#FF2E93] rounded-lg flex justify-center" style="box-shadow:0 0 10px rgba(255,46,147,0.3);" onclick="openSubpage('logout-confirm')">
                        LOGOUT
                    </div>
                </div>
            </div>
            
            <!-- Navigation Bar -->
            <div class="nav-bar">
                <div class="nav-item" onclick="switchPage('devices-page')">
                    <iconify-icon icon="mdi:monitor-cellphone" width="24" height="24" class="nav-icon"></iconify-icon>
                    <div class="nav-text text-[12px] mt-1">DEVICES</div>
                </div>
                <div class="nav-item" onclick="switchPage('map-page')">
                    <iconify-icon icon="mdi:map-outline" width="24" height="24" class="nav-icon"></iconify-icon>
                    <div class="nav-text text-[12px] mt-1">MAP</div>
                </div>
                <div class="nav-item" onclick="switchPage('notifications-page')">
                    <iconify-icon icon="mdi:bell-outline" width="24" height="24" class="nav-icon"></iconify-icon>
                    <div class="nav-text text-[12px] mt-1">NOTIFICATIONS</div>
                </div>
                <div class="nav-item active" onclick="switchPage('profile-page')">
                    <iconify-icon icon="mdi:account-outline" width="24" height="24" class="nav-icon"></iconify-icon>
                    <div class="nav-text text-[12px] font-medium mt-1">PROFILE</div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Install Prompt -->
    <div class="install-prompt" id="install-prompt">
        <div class="install-text">
            <h3 class="font-bold mb-1">安装 ICTx Device Tracker</h3>
            <p class="text-sm">将此应用安装到您的设备上以获得更好的体验</p>
        </div>
        <div class="install-buttons">
            <div class="install-btn install-secondary" onclick="hideInstallPrompt()">稍后</div>
            <div class="install-btn install-primary" onclick="installApp()">安装</div>
        </div>
    </div>
    
    <!-- 这里可以添加你的子页面代码 -->
    <!-- 由于代码长度限制，这里只包含了一个示例子页面 -->
    
    <!-- Device Details - Workshop Robot -->
    <div class="subpage" id="details-workshop-robot">
        <div class="subpage-content">
            <div class="close-button" onclick="closeSubpage('details-workshop-robot')">×</div>
            <div class="subpage-title">Workshop Robot #23</div>
            
            <div class="subpage-section">
                <div class="subpage-label">STATUS</div>
                <div class="subpage-value">
                    <span style="color:#00FF85; text-shadow: 0 0 5px #00FF85;">● ONLINE</span>
                </div>
            </div>
            
            <div class="subpage-section">
                <div class="subpage-label">DEVICE ID</div>
                <div class="subpage-value">WR-23-45892</div>
            </div>
            
            <div class="subpage-section">
                <div class="subpage-label">LAST ACTIVITY</div>
                <div class="subpage-value">2023-10-15 14:30</div>
            </div>
            
            <div class="subpage-section">
                <div class="subpage-label">LOCATION</div>
                <div class="subpage-value">Area A, Line 3</div>
            </div>
            
            <div class="subpage-section">
                <div class="subpage-label">BATTERY</div>
                <div class="flex items-center mt-2">
                    <div class="w-full h-4 rounded border-2 border-cyan-400 relative overflow-hidden" style="box-shadow: 0 0 8px #00FFFF;">
                        <div class="absolute top-0 left-0 h-full bg-cyan-400 w-[65%]" style="opacity:0.7"></div>
                    </div>
                    <div class="ml-2">65%</div>
                </div>
            </div>
            
            <div class="button-container">
                <div class="btn detail-btn" style="background: #1A1A2E;">
                    <span>FULL REPORT</span>
                </div>
                <div class="btn alert-btn">
                    <iconify-icon icon="mdi:alert-outline" width="16" height="16" class="detail-icon mr-1"></iconify-icon>
                    <span>TRIGGER ALERT</span>
                </div>
            </div>
        </div>
    </div>
    
    <!-- 其他子页面... -->

    <script>
        // 页面切换功能
        function switchPage(pageId) {
            // 隐藏所有页面
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });
            
            // 移除所有导航激活状态
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });
            
            // 显示目标页面
            document.getElementById(pageId).classList.add('active');
            
            // 激活对应导航项
            document.querySelector(`.nav-item[onclick="switchPage('${pageId}')"]`).classList.add('active');
        }
        
        // 子页面功能
        function openSubpage(id) {
            document.getElementById(id).classList.add('active');
            document.body.style.overflow = 'hidden';
        }
        
        function closeSubpage(id) {
            document.getElementById(id).classList.remove('active');
            document.body.style.overflow = 'auto';
        }
        
        // PWA安装功能
        let deferredPrompt;
        
        window.addEventListener('beforeinstallprompt', (e) => {
            // 阻止浏览器默认的安装提示
            e.preventDefault();
            // 保存事件以便稍后触发
            deferredPrompt = e;
            // 显示自定义安装提示
            setTimeout(() => {
                document.getElementById('install-prompt').classList.add('active');
            }, 3000);
        });
        
        function installApp() {
            if (deferredPrompt) {
                // 显示安装提示
                deferredPrompt.prompt();
                // 等待用户响应
                deferredPrompt.userChoice.then((choiceResult) => {
                    if (choiceResult.outcome === 'accepted') {
                        console.log('用户接受了安装提示');
                    } else {
                        console.log('用户拒绝了安装提示');
                    }
                    deferredPrompt = null;
                });
            }
            hideInstallPrompt();
        }
        
        function hideInstallPrompt() {
            document.getElementById('install-prompt').classList.remove('active');
        }
        
        // Service Worker 注册
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', function() {
                navigator.serviceWorker.register('/sw.js')
                    .then(function(registration) {
                        console.log('Service Worker 注册成功: ', registration.scope);
                    })
                    .catch(function(error) {
                        console.log('Service Worker 注册失败: ', error);
                    });
            });
        }
    </script>
</body>
</html>